
dostounix golden/tree1.txt
dostounix golden/tree2.txt
dostounix golden/gitignore1.txt

gitjoin
! stdout .
stderr 'Cloned: 2 repos'
! stderr 'Skipped'
! stderr 'Updated'
! stderr 'Warnings'

cmp .gitignore golden/gitignore1.txt

tree gocode
cp stdout gocodetree.txt
cmp gocodetree.txt golden/tree1.txt

append gocode/libs/lazycache/README.md changed
gitjoin
! stdout .
stderr 'Skipped.*1 repos'
! stderr 'Cloned'
! stderr 'Updated'

mkdir gocode/main
cp testdata/gitjoin1.txt  gocode/main/gitjoin.txt

gitjoin
! stdout .
! stderr 'Warnings'
stderr 'Cloned: 1 repos'
stderr 'Skipped.*1 repos'
! stderr 'Updated'

tree gocode
cp stdout gocodetree.txt
cmp gocodetree.txt golden/tree2.txt

cmp .gitignore golden/gitignore2.txt

-- gocode/libs/gitjoin.txt --
github.com/bep/lazycache
github.com/bep/debounce
-- golden/tree1.txt --
. (unknown)
└─gitjoin:libs/
  └─git:debounce/
  └─git:lazycache/
-- golden/tree2.txt --
. (unknown)
└─gitjoin:libs/
  └─git:debounce/
  └─git:lazycache/
└─gitjoin:main/
  └─git:firstupdotenv/
-- testdata/gitjoin1.txt --
github.com/bep/firstupdotenv
-- golden/gitignore1.txt --
# Managed by gitjoin - do not edit this section
gocode/libs/debounce/
gocode/libs/lazycache/
# End gitjoin managed section
-- golden/gitignore2.txt --
# Managed by gitjoin - do not edit this section
gocode/libs/debounce/
gocode/libs/lazycache/
gocode/main/firstupdotenv/
# End gitjoin managed section
